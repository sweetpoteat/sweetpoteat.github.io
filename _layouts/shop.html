---
layout: home
---

<div class="shop-label">Treat Menu</div>
<div class="striped-line"></div>

{% include secondary-nav.html %}

{% if page.title != "Holiday" %}
  <h1 class="page-title">{{ page.title }}</h1>
{% endif %}


{% if page.category == "cupcakes" %}
  <!-- CUPCAKE SPECIFIC LAYOUT -->
  <div class="favors-wrapper">
    <p class="favors-intro">
      Sweet Poteat Cupcakes are perfect for any occasion...
    </p>

    <div class="favors-details" style="max-width:600px;margin:1.5rem auto;padding:1rem 1.5rem;background:#fff7fb;border:1px solid #f9c5dd;border-radius:12px;line-height:1.6;">
      <h3 style="margin-top:0;color:#fc78b5;font-size:1.25rem;">Custom Cupcakes</h3>
      <p><strong>Cake Flavors:</strong> Pumpkin, strawberry, chocolate, lemon, vanilla, and funfetti</p>
      <p><strong>Frosting Types:</strong> Buttercream or cream cheese</p>
      <p><strong>Price:</strong> 24 cupcakes for $35</p>
    </div>

    <a href="{{ '/contact/' | relative_url }}" class="contact-cta" style="display:block;margin:2rem auto;padding:1rem 2rem;background:#fc78b5;color:#fff;font-weight:700;text-align:center;border-radius:12px;width:200px;text-decoration:none;">Contact Us</a>

    <!-- Cupcake Carousel -->
    <div class="favors-carousel-wrapper" style="max-width:600px;margin:0 auto;position:relative;">
      <div class="carousel-main" style="position:relative;">
        <div class="carousel-main-img-wrapper">
          <img id="carousel-main-img" src="{{ '/assets/images/products/cupcake/cupcake1.jpg' | relative_url }}" alt="Favor">
        </div>
        <button id="prev-arrow" class="carousel-arrow">‹</button>
        <button id="next-arrow" class="carousel-arrow right">›</button>
      </div>
      <div class="carousel-thumbnails">
        <img class="thumb" src="{{ '/assets/images/products/cupcake/cupcake1.jpg' | relative_url }}">
        <img class="thumb" src="{{ '/assets/images/products/cupcake/cupcake2.jpg' | relative_url }}">
        <img class="thumb" src="{{ '/assets/images/products/cupcake/cupcake3.jpg' | relative_url }}">
        <!-- Add more cupcake images here if needed -->
      </div>
    </div>
  </div>

{% else %}
  <!-- STANDARD / HOLIDAY LAYOUT -->
  {% assign category = page.category %}

  {% if category == "all" %}
    {% assign category_products = site.data.products %}
  {% else %}
    {% assign category_products = site.data.products | where: "category", category %}
  {% endif %}

  <!-- 1. Top Content (Intro Text from Markdown Body) -->
  {% if category == "holiday" and page.show_content != false%}
    <div class="holiday-content" style="margin: 2rem auto; max-width: 800px;">
      {{ content }}
    </div>
  {% endif %}

  <!-- 2. Product Grid -->
  {% if category_products.size > 0 or category == "all" %}
    <div class="product-grid">
      {% if category == "all" %}
        <a href="{{ '/cupcakes/' | relative_url }}" class="product-card">
          <div class="product-image">
            <img src="{{ '/assets/images/products/cupcake/cupcake1.jpg' | relative_url }}" alt="Cupcakes">
          </div>
          <h3>Cupcakes</h3>
          <p class="price">Custom Orders!</p>
        </a>
      {% endif %}

      {% for product in category_products %}
        <a href="{{ '/products/' | append: product.slug | append: '/' | relative_url }}" class="product-card">
          <div class="product-image">
            <img src="{{ product.image | default: product.images[0] | relative_url }}" alt="{{ product.name }}">
          </div>
          <h3>{{ product.name }}</h3>
          <p class="price">
            {% if product.options %}From ${{ product.options[0].price }}{% else %}${{ product.price }}{% endif %}
          </p>
        </a>
      {% endfor %}
    </div>
  {% else %}
    {{ content }}
  {% endif %}

  <!-- 3. Dynamic Classes/Events Carousel (Only shows if images exist in Front Matter) -->
  {% if category == "holiday" and page.classes_images %}
    
    <!-- Banner Title -->
    <div style="background: #ffe3f0; border-radius: 12px; margin: 4rem auto 2rem auto; max-width: 900px; padding: 1.5rem; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.05);">
      <h2 style="color: #fc78b5; font-size: 2rem; margin: 0;">
        {{ page.classes_title | default: "Classes and Experiences" }}
      </h2>
    </div>

    <!-- Carousel Container -->
    <div class="val-carousel-container">
      <button class="val-carousel-arrow left" onclick="prevValSlide()">‹</button>

      <div class="val-carousel-main-img-wrapper">
        <!-- Load the first image by default -->
        <img id="val-carousel-img"
             src="{{ page.classes_images[0] | relative_url }}"
             alt="Carousel image">
      </div>

      <button class="val-carousel-arrow right" onclick="nextValSlide()">›</button>
    </div>

    <!-- Thumbnails Loop -->
    <div class="val-carousel-thumbnails">
      {% for img in page.classes_images %}
        <img src="{{ img | relative_url }}"
             class="val-thumb {% if forloop.first %}active{% endif %}" 
             onclick="setValSlide({{ forloop.index0 }})">
      {% endfor %}
    </div>

    <style>
      .val-carousel-container { position: relative; max-width: 900px; margin: 0 auto; }
      .val-carousel-main-img-wrapper {
        width: 100%; aspect-ratio: 4 / 3; overflow: hidden; border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1); background: linear-gradient(#fff, #f3f3f3);
      }
      .val-carousel-main-img-wrapper img { width: 100%; height: 100%; object-fit: contain; background: #fff; }
      .val-carousel-thumbnails { display: flex; justify-content: center; margin-top: 1rem; gap: 0.5rem; flex-wrap: wrap; }
      .val-carousel-thumbnails img.val-thumb {
        width: 60px; height: 60px; object-fit: cover; border-radius: 8px;
        cursor: pointer; border: 2px solid transparent; transition: 0.2s;
      }
      .val-carousel-thumbnails img.val-thumb.active { border-color: #fc78b5; }
      .val-carousel-arrow {
        position: absolute; top: 50%; transform: translateY(-50%);
        background: rgba(252,120,181,0.85); border: none; border-radius: 50%;
        width: 35px; height: 35px; color: #fff; font-size: 20px; cursor: pointer; z-index: 10;
      }
      .val-carousel-arrow.left { left: 10px; }
      .val-carousel-arrow.right { right: 10px; }
    </style>

    <script>
      // Dynamically build the list of images from Jekyll Front Matter
      const valImages = [
        {% for img in page.classes_images %}
          "{{ img | relative_url }}"{% unless forloop.last %},{% endunless %}
        {% endfor %}
      ];

      let valCurrentIndex = 0;
      const valMainImg = document.getElementById("val-carousel-img");
      const valThumbs = document.querySelectorAll(".val-carousel-thumbnails .val-thumb");

      function updateValCarousel() {
        valMainImg.src = valImages[valCurrentIndex];
        valThumbs.forEach((t, i) => t.classList.toggle("active", i === valCurrentIndex));
      }

      function nextValSlide() {
        valCurrentIndex = (valCurrentIndex + 1) % valImages.length;
        updateValCarousel();
      }

      function prevValSlide() {
        valCurrentIndex = (valCurrentIndex - 1 + valImages.length) % valImages.length;
        updateValCarousel();
      }

      function setValSlide(index) {
        valCurrentIndex = index;
        updateValCarousel();
      }
    </script>
  {% endif %} 
  <!-- End Holiday Special Content -->

{% endif %}


<!-- Cupcake Page Script (Legacy) -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const mainImg = document.getElementById('carousel-main-img');
  if (!mainImg) return; 

  const thumbs = document.querySelectorAll('.thumb'); // Note: Specific to cupcake class
  const images = Array.from(thumbs).map(t => t.src);
  let currentIndex = 0;
  
  function showImage(index) {
    mainImg.src = images[index];
    thumbs.forEach(t => t.style.border = '2px solid transparent');
    thumbs[index].style.border = '2px solid #fc78b5';
    currentIndex = index;
  }
  
  thumbs.forEach((thumb, i) => {
    thumb.addEventListener('click', () => showImage(i));
  });

  const prev = document.getElementById('prev-arrow');
  const next = document.getElementById('next-arrow');
  
  if(prev) prev.addEventListener('click', () => showImage((currentIndex - 1 + images.length) % images.length));
  if(next) next.addEventListener('click', () => showImage((currentIndex + 1) % images.length));
  
  showImage(0);
});
</script>